<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <th:block th:fragment="styles">
        <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.3/css/bootstrap.min.css}" />
        <link th:rel="stylesheet" th:href="@{/webjars/bootstrap-icons/1.11.3/font/bootstrap-icons.css}" />
        <link th:rel="stylesheet" th:href="@{/css/style.css}">
    </th:block>
</head>

<body>
    <!-- sidebar -->
    <th:block th:fragment="sidebar">
        <sidebar class="d-flex flex-column justify-content-between">
            <div>
                <!-- User -->
                <div class=" d-flex justify-content-between" id="user_group">
                    <!-- user information -->
                    <div class="d-flex gap-2">
                        <div>
                            <span>Ciao, Utente</span>
                        </div>
                    </div>

                    <!-- logout -->
                    <div>
                        <a th:href="@{/logout}">
                            <i class="bi bi-door-open  "></i>
                        </a>
                    </div>
                </div>

                <hr>
                <!-- controler -->
                <ul class="m-0 p-0">
                    <li>
                        <a th:href="@{/videogiochi}">
                            <div>
                                <i class="bi bi-disc"></i>
                            </div>
                            <div>
                                <span>Videogiochi</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a th:href="@{/generi}">
                            <div>
                                <i class="bi bi-controller"></i>
                            </div>
                            <div>
                                <span>Generi</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a th:href="@{/console}">
                            <div>
                                <i class="bi bi-pc-display"></i>
                            </div>
                            <div>
                                <span>Console</span>
                            </div>
                        </a>
                    </li>

                </ul>
            </div>

            <!-- credits -->
            <div>
                <span class="text-primary fw-light fs-6">Â© Develop by Marcello</span>
            </div>
        </sidebar>
    </th:block>

    <!-- barra ricerca -->
    <th:block th:fragment="search">
        <form th:action="@{/videogiochi}" method="get" class="col-6 py-3">
            <div class="d-flex">
                <input type="text" class="form-control" name="titolo" placeholder="Cerca per titolo..."
                    th:value="${param.titolo}">
                <button type="submit" class="btn btn-primary ms-2">Cerca</button>
            </div>
        </form>
    </th:block>

    <!-- Tabella videogiochi -->
    <th:block th:fragment="videogames_list">
        <table class="w-100">
            <thead>
                <tr>
                    <th><span>Titolo</span></th>
                    <th id="voto">Voto</th>
                    <th>Genere</th>
                    <th>Piattaforme</th>
                    <th>Descrizione</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="videogioco : ${videogiochi}" th:object="${videogioco}">
                    <td>[[*{titolo}]]</td>
                    <td id="voto">[[*{voto}]]</td>
                    <td>[[*{generi}]]</td>
                    <td>[[*{console}]]</td>
                    <td>[[*{descrizione}]]</td>
                    <td class="text-end">

                        <a class="btn btn-primary me-2" th:href="@{/videogiochi/{id}(id=*{id})}">
                            <i class="bi bi-eye"></i>
                        </a>
                        <a class="btn btn-warning me-2">
                            <i class="bi bi-magic "></i>
                        </a>
                        <a class="btn btn-danger">
                            <i class="bi bi-trash3-fill text-white"></i>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </th:block>

    <!-- Tabella generi -->
    <th:block th:fragment="generi_list">
        <table class="w-100">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Nome</th>
                    <th class="text-end"></th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="genere : ${generi}" th:object="${genere}">
                    <td>[[*{id}]]</td>
                    <td>[[*{nome}]]</td>
                    <td class="text-end">
                        <button class="btn btn-warning me-2">
                            Modifica
                        </button>
                        <button class="btn btn-danger">
                            Elimina
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </th:block>

    <!-- Tabella console -->
    <th:block th:fragment="console_list">
        <table class="w-100">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Nome</th>
                    <th class="text-end"></th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="console : ${console}" th:object="${console}">
                    <td>[[*{id}]]</td>
                    <td>[[*{nome}]]</td>
                    <td class="text-end">
                        <button class="btn btn-warning me-2">
                            Modifica
                        </button>
                        <button class="btn btn-danger">
                            Elimina
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </th:block>

    <!-- dettaglio videogiochi -->
    <th:block th:fragment="videogame_details">
        <div th:object="${videogioco}" class="d-flex gap-5">
            <!-- image -->
            <div>
                <img class="rounded" src="https://placehold.co/400x400" th:alt="*{copertina_url}">
            </div>

            <!-- info -->
            <div class="d-flex flex-column justify-content-center gap-4">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <strong class="fs-5 me-2">Descrizione:</strong>
                        [[*{descrizione}]]
                    </li>
                    <li class="list-group-item">
                        <strong class="fs-5 me-2">Voto:</strong>
                        [[*{voto}]]/5
                    </li>
                    <li class="list-group-item">
                        <strong class="fs-5 me-2">Generi:</strong>
                        [[*{generi}]]
                    </li>
                    <li class="list-group-item">
                        <strong class="fs-5 me-2">Console:</strong>
                        [[*{console}]]
                    </li>
                    <li class="list-group-item">
                        <strong class="fs-5 me-2">Anno di uscita:</strong>
                        [[*{anno_uscita}]]
                    </li>
                    <li class="list-group-item">
                        <strong class="fs-5 me-2">Aggiunto il:</strong>
                        [[*{aggiunto_il}]]
                    </li>
                </ul>
                <div class="d-flex justify-content-end">
                    <button class="btn btn-warning me-2">
                        Modifica
                    </button>
                    <button class="btn btn-danger">
                        Elimina
                    </button>
                </div>
            </div>

        </div>
    </th:block>

    <!-- bootstrap script -->
    <th:block th:fragment="bootstrap-script">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </th:block>
</body>

</html>